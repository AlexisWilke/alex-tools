panel-ve (1.1.115.0) xenial; urgency=high

  * Added the ANIMALS_BACKGROUND movie.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 27 Nov 2021 15:12:39 -0800

panel-ve (1.1.114.0) xenial; urgency=high

  * New movies (FOREST & ANIMALS reviewed, FOREST & BEES, BEES, ANIMALS).
  * Fixed favorite icon generator, negative positions now use N instead of '-'.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 26 Nov 2021 22:51:21 -0800

panel-ve (1.1.113.0) xenial; urgency=high

  * Bump version to refresh the movies and test the FOREST & ANIMALS.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 19 Nov 2021 18:07:08 -0800

panel-ve (1.1.112.0) xenial; urgency=high

  * Compute FPS and display it along the timings.
  * Added preferences to know whether to draw timings along wall controller.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 14 Nov 2021 21:50:44 -0800

panel-ve (1.1.111.0) xenial; urgency=high

  * Use the clock_gettime() when retrieving the TICK and use the nanoseconds
    to define the f_position instead of just the +1.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 14 Nov 2021 10:33:02 -0800

panel-ve (1.1.110.0) xenial; urgency=high

  * Fixed the synchronization (must skip B-Frames before sending to NVDEC).
  * Better debug messages for when frames are missing/behind/ahead.
  * Moved search of NAL to the foreground_frame class (one implementation).
  * Allocate the same number of output buffers as input.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 17 Oct 2021 15:33:49 -0700

panel-ve (1.1.109.0) xenial; urgency=high

  * Reinstated the f_current_foreground_frame == nullptr tests.
  * Added a warning about not being able to finding a next frame (no cache).

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 12 Oct 2021 23:35:07 -0700

panel-ve (1.1.108.0) xenial; urgency=high

  * Restore the f_current_foreground_frame == nullptr tests.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 12 Oct 2021 23:20:49 -0700

panel-ve (1.1.107.0) xenial; urgency=high

  * Bumping version for FC BARCELONA 12K.
  * Updated the download-panel-movies to stop if one of the lists differs.
  * Removing the FC_BARCELONA_4K since that was temporary anyway.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 12 Oct 2021 20:37:14 -0700

panel-ve (1.1.106.0) xenial; urgency=high

  * Bump version to get FC BARCELONA 4K.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 12 Oct 2021 15:12:58 -0700

panel-ve (1.1.105.0) xenial; urgency=high

  * Properly clear infrared status on a favorite load and other cases.
  * Added flags to allow SELECT in STANDBY mode.
  * Added a timer so SELECT times out.
  * Display black when foreground frames are not available.
  * Added FC_STATS to wall controller.
  * Fixed the BLUE_WITH_WEATHER name in the wall controller.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 12 Oct 2021 09:44:46 -0700

panel-ve (1.1.104.0) xenial; urgency=high

  * Bump version to ensure installing latest including blue w/ weather movie.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 06 Oct 2021 10:42:18 -0700

panel-ve (1.1.103.0) xenial; urgency=high

  * Volume Sliders in wall controller.
  * Fixed LIVE foreground disappearing when used as foreground #1.
  * Fixed the NTP logs (rotation log filename).
  * Applied a fix to the firewall so Jetsons can access the Internet still.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 04 Oct 2021 12:55:23 -0700

panel-ve (1.1.102.0) xenial; urgency=high

  * Bump version to rebuild and install new movies.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 23 Sep 2021 10:00:09 -0700

panel-ve (1.1.101.0) xenial; urgency=high

  * Implemented the IR heat map.
  * Added a fix for the 3 timing positions to work with all methods.
  * Fixed the Edit button which disappeared.
  * Added the FOREST background to the wall controller interface.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 22 Sep 2021 22:18:38 -0700

panel-ve (1.1.100.0) xenial; urgency=high

  * Fixed the sound & overlay inputs images (need to install JPG, not PNG).
  * Removed the selection of current overlay & graphic. Keep last selection.
  * Changed wall controller timer to also time out messages.
  * Fixed the bottom right texture coordinate for LIVE_INPUT_1.
  * Added command to generate favorite icon and reload it once ready.
  * Applied a hack so the foreground doesn't get stuck.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 17 Aug 2021 16:09:51 -0700

panel-ve (1.1.99.0) xenial; urgency=high

  * Fixed the flip of the LIVE_INPUT_1 data.
  * Transformed the overlays to use LIVE-like streaming feeds.
  * Started worked on a working exit function.
  * Fixed leak of a buffer (release at the wrong place so it would not happen).
  * Show white over foreground 1/2 that are not being edited.
  * Prevent LIVE_INPUT_1 double insertion (that won't work).
  * Properly remove unused foreground packets which would pile up forever now
    that we loop forever (bug was there all along for the other foreground).
  * The new sync. works relatively well with the first loop, but then fails
    (the buffer list is always empty when it should have 1 sec. of frames).
  * Now send the fore frame count so we can properly sync. when looping.
  * Properly allow frame wrapping when looping overlay.
  * Reduced swap buffer sleep to 33.33ms instead of 33.333333ms.
  * Print one message when finding an invalid serial (not one per packet).
  * Fixed many issues with mutexes, we were having deadlocks.
  * Allow for skiping any number of packets if the next one never shows up.
  * Removed the use of the FOREGROUND message altogether.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 29 Jul 2021 11:03:00 -0700

panel-ve (1.1.98.0) xenial; urgency=high

  * Bump version to retry as some script didn't make it properly.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 28 Jul 2021 08:50:22 -0700

panel-ve (1.1.97.0) xenial; urgency=high

  * Properly update the crop settings when switching between 4K/12K.
  * Enlarge the buttons action area to make it easier to click on them.
  * Added support for locked favorites.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 02 Jul 2021 14:56:54 -0700

panel-ve (1.1.96.0) xenial; urgency=high

  * Updated the scripts to download the 12K videos only when marked as a 12K.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 01 Jul 2021 21:13:40 -0700

panel-ve (1.1.95.0) xenial; urgency=high

  * Added feedback to load/save favorites.
  * Added feedback to selecting backgrounds.
  * Added the "last object survival" flag to clear the last position.
  * Added code to support the DRAW/EDIT/SELECT controller states.
  * Display the controller state at the bottom/center of the wall.
  * Fixed vertical positioning of graphics (a "... - 1" was missing).
  * Draw corners and center cross when EDITing an overlay.
  * Added a couple of missing glckt() around a glBlendFunc/Color().
  * Hide the EDIT button if there are no foregrounds or images to edit.
  * Show a "RESET" label once a reset was applied.
  * Only reset the overlays or graphics depending on current selection.
  * Added a "Close" (RESET) button at the top-left of the selected overlays.
  * Removed the 1/2 and 1/2/3/4/5, instead I use the first empty spot available.
  * Implemented the Fade In/Out of images.
  * Implemented the seam scaling support in all shaders.
  * Made all shaders use mediump floats.
  * Removed a comment about a path in many panel_preferences::object_...().
  * Started work on supporting 12k backgrounds.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 26 Jun 2021 08:26:30 -0700

panel-ve (1.1.94.0) xenial; urgency=high

  * Re-removing the "get_last_object_position()", which still causes problems.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 25 Jun 2021 11:28:44 -0700

panel-ve (1.1.93.0) xenial; urgency=high

  * Fixed the object start position (I used 'x' instead of 'y').
  * Added the object start position for foregrounds.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 24 Jun 2021 23:03:31 -0700

panel-ve (1.1.92.0) xenial; urgency=high

  * Fixed the `--verbose` in the final-jetson-setup.
  * Changed the error on `setuid()` in a fatal error.
  * Added a call to the ntp-wait command to make sure NTP is ready.
  * Restored the "get last object position" as that worked just fine.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 20 Jun 2021 21:55:57 -0700

panel-ve (1.1.91.0) xenial; urgency=high

  * Added missing parenthesis for height computation.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 18 Jun 2021 15:48:18 -0700

panel-ve (1.1.90.0) xenial; urgency=high

  * Try to remove the "get last object position" to fix the positioning for now.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 18 Jun 2021 15:23:54 -0700

panel-ve (1.1.89.0) xenial; urgency=high

  * Added support for immediate movements of the graphics & overlays.
  * Changed the tick to use a rectangle for the object position/size.
  * And the tick get_rectangle() returns either the TICK position/size or
    the OBJECT_MOVED rectangle.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 17 Jun 2021 21:14:37 -0700

panel-ve (1.1.88.0) xenial; urgency=high

  * Make sure we can install the latest version of everything.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 16 Jun 2021 22:12:02 -0700

panel-ve (1.1.87.0) xenial; urgency=high

  * Latest controller install.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 14 Jun 2021 19:03:49 -0700

panel-ve (1.1.86.0) xenial; urgency=high

  * Added the HIDE COLORBARS menu since I made the settings appear over.
  * Use the IR status to determine which foreground to accept (instead of
    just position). The status has priority.
  * Added the overla  & graphic selections (1/2 1/2/3/4/5).

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 09 Jun 2021 17:23:45 -0700

panel-ve (1.1.85.0) xenial; urgency=high

  * Make the Checkmark clickable in the Backgrounds, Favorites, Overlay screens.
  * Put Background & Favorite name at the bottom of the screen.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 09 Jun 2021 16:57:18 -0700

panel-ve (1.1.84.0) xenial; urgency=high

  * Added the background selection capability as a test.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 09 Jun 2021 16:00:45 -0700

panel-ve (1.1.83.0) xenial; urgency=high

  * Got the controller icons to properly get rendered.
  * Removed the f_text_drawer from the panel_ve since we don't use it anymore.
  * Fixed the maximum x for clicks, it was set to 1980 instead of 1920.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 07 Jun 2021 22:36:28 -0700

panel-ve (1.1.82.0) xenial; urgency=high

  * Fixed the images loop, removed all the code because right now we don't
    need that thread. It will mainly be sleeping.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 06 Jun 2021 16:10:07 -0700

panel-ve (1.1.81.0) xenial; urgency=high

  * Bump version to force an upgrade with the newer snap libraries.
  * Updated code to compile with newest snap libraries.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 05 Jun 2021 14:35:07 -0700

panel-ve (1.1.80.0) xenial; urgency=high

  * Added the 8 x CPU % to the statistics.
  * Moved the panel-ve-statistics to ve/ve-statictics.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 31 May 2021 22:43:02 -0700

panel-ve (1.1.79.0) xenial; urgency=high

  * Added the code to receive images from the streaming-service.
  * Fixed the IMAGE_COUNT with a +1 which was missing at first.
  * Added a "full size" flag to the udp headers.
  * Started work to get the correct version in the panel-ve tool.
  * Started on the panel-ve-statistics daemon (it compiles, need testing).
  * Create the necessary files to create the panel-ve-statistics package.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 29 May 2021 17:18:34 -0700

panel-ve (1.1.78.1) xenial; urgency=high

  * Bump version to update the GRAPHICS-DEMO movie automatically.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 26 May 2021 21:57:38 -0700

panel-ve (1.1.78.0) xenial; urgency=high

  * Added the GRAPHICS-DEMO movie so it gets downloaded.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 26 May 2021 17:28:22 -0700

panel-ve (1.1.77.0) xenial; urgency=high

  * Update the cropping as we move panels across the placement tab.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 23 May 2021 09:59:42 -0700

panel-ve (1.1.76.0) xenial; urgency=high

  * Fixed the cropping, it is only for backgrounds.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 23 May 2021 09:22:08 -0700

panel-ve (1.1.75.0) xenial; urgency=high

  * Updated the IP address for the cache. I moved it back to the controller.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 22 May 2021 15:13:42 -0700

panel-ve (1.1.74.0) xenial; urgency=high

  * Moved the dbus inhibitor class implementation to the ve library.
  * Added ftmesh-dev as a dependency.
  * Replace Freetype cmake dependency with FtMesh instead.
  * Removed the ftgles sub-folder which was replaced by the ftmesh library.
  * Added the EGL_SAMPLE_BUFFERS & EGL_SAMPLES attributes to get antialiasing.
  * Reduced the default g_polygon_color, no need to repeat 6 times something
    we initialize later.
  * Properly resize the polygon vertices (multiple of 2 for (x,y) and 3 for
    triangles).
  * Properly initialize the color buffer with GL_DYNAMIC_DRAW.
  * Added a couple of fonts (large & normal) that we'll use for interfaces.
  * Fixed the polygon & text render (proper center, dynamic font, sizes, etc.)
  * Fixed the colorbars, it directly works with rectangles.
  * Removed the text_texture which is not necessary anymore.
  * Implemented a data driven Controller renderer.
  * Added the preference `panel_ve::controller=no|left|right`.
  * Moved `--flip` to preference `panel_ve::panel_flips`.
  * Force vertices back in shader on each frame for flip to work instantly.
  * Use the crops from the preferences (`panel_ve::panel_crops`).
  * Send the panel ID to the streaming service (for easier debug messages).

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 02 May 2021 11:03:58 -0700

panel-ve (1.1.73.0) xenial; urgency=high

  * Added code to repeat the last tick (foreground and background) because once
    in a while it arrives late and the side effect is a big flash or a pause.
  * Switched back to SOFTWARE movie preparation; that works perfectly now that
    I have the `... -pix_fmt yuv420p ...`.
  * Added warnings so people know not to use the hardware version.
  * Added a convert-to-12K command line tool so we can create 12K videos
    (it compiles, not yet tested at all).

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 12 Apr 2021 20:22:47 -0700

panel-ve (1.1.72.0) xenial; urgency=high

  * Properly clear old frames also when we receive the empty background.
  * Use the ve::STREAMING_... parameters for all panel_ve preferences.
  * Added support for JPEG images to be displayed on the screen.
  * Added colorbars display through the text texture (not working right yet).
  * Added a sleep mode which clears the screen to black and render nothing else.
  * Removed some old TODO comments which were implemented.
  * Various cleanups of CUDA related code which we're not using.
  * Added yet another script to handle the movie conversions on the Jetson.
  * Removed the installation of the cache.videowallpaper.com from ve-base.
  * Updated the script to use the cache on the Jetson used for development.
  * Added two new backgrounds (WHITE_BACKGROUND and BLUE_OZ_BACKGROUND).

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 25 Mar 2021 16:40:30 -0700

panel-ve (1.1.71.0) xenial; urgency=high

  * Fixed the download-panel-movie script (removed --panel)
  * Save output of download-panel-movie in a log file

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 25 Mar 2021 08:27:46 -0700

panel-ve (1.1.70.0) xenial; urgency=high

  * Fixed the serial number handling. We have a current & a future one.
  * Save the foreground serial number in the buffer loop number.
  * Use a foreground frame sync of -1 when in FADE_READY mode.
  * Release frames of video if the foreground frame sync is -1.
  * Verify foreground serial number before accepting a frame. It could be an
    old frame or a frame from the other foreground.
  * Fixed several tests in the foreground to determine whether we want to
    re-render the same frame again or get the next one.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 18 Mar 2021 10:58:14 -0700

panel-ve (1.1.69.0) xenial; urgency=high

  * Fixed the serial number handling. We have a current & a future one.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 18 Mar 2021 10:58:14 -0700

panel-ve (1.1.68.0) xenial; urgency=high

  * Keep packets coming, whatever the object because when we receive them it is
    too soon to know whether the current object or next object are concerned.
  * When no foreground is defined, we now return FADE_READY instead of NONE.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 17 Mar 2021 23:18:40 -0700

panel-ve (1.1.67.0) xenial; urgency=high

  * Output a message whenever the selected foreground changes.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 16 Mar 2021 22:42:03 -0700

panel-ve (1.1.66.0) xenial; urgency=high

  * Foreground would stop working because we had a throw.
  * Fixed message in another throw so it better matches the current version.
  * Fixed name of show_id/show_timing flags in debug message.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 10 Mar 2021 08:45:39 -0800

panel-ve (1.1.65.0) xenial; urgency=high

  * Fixed the UDP packet index to include the serial number.
  * Properly guard all accesses to the f_serial and f_current_serial variables.
  * Release the current foreground frame when I reset it.
  * Removed the multicast server parameters.
  * Changed the udp_connection1/2 to a broadcast address.
  * Avoid requesting missing frames too many times.
  * Make sure to only clear received packets with the wrong serial number.
  * Fixed which number to use when referencing a packet.
  * Enhanced our timespec extensions.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 07 Mar 2021 22:25:47 -0800

panel-ve (1.1.64.0) xenial; urgency=high

  * Enhanced foreground playback.
  * Added a try/catch to avoid _crashing_ demuxer on creation.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 01 Mar 2021 16:42:53 -0800

panel-ve (1.1.63.0) xenial; urgency=high

  * Added the panel_ve::panel_crops preference.
  * Added a development.conf.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 28 Feb 2021 12:06:35 -0800

panel-ve (1.1.62.0) xenial; urgency=high

  * Added a configuration to prevent the loading of the bluetooth module.
  * Restart pulseaudio if it looks like it's not running.
  * Start the ntp service if it did not auto-start on boot.
  * Implemented support for a way to show the panel ID on the screen.
  * Cleaned up the preferences now that many of the parameters are in TICK msg.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 25 Feb 2021 12:55:05 -0800

panel-ve (1.1.61.0) xenial; urgency=high

  * Do not try to set the selected foreground when the tick pointer is nullptr.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 22 Feb 2021 18:06:04 -0800

panel-ve (1.1.60.0) xenial; urgency=high

  * Added a SHUTDOWN command so we can remotely turn off the Jetsons.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 20 Feb 2021 16:43:14 -0800

panel-ve (1.1.59.0) xenial; urgency=high

  * Mostly fixed the re-use of the foreground.
  * Added the ability to use keys to trigger functions.
  * Started some work on the ability to cleanly quit.
  * Added an EOS UDP packet (i.e. data size == 0).

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 19 Feb 2021 11:18:57 -0800

panel-ve (1.1.58.0) xenial; urgency=high

  * Removed the panel-ve.logrotate since the ve-base.logrotate rotates all
    the logs under /var/log/ve/[secure]/*.log.
  * Fixed the updater listen socket, we'll use the REUSEADDR now.
  * Added support to break the get_data() at the end of the foreground movie.
  * Added a flag allowing us to see the mouse pointer.
  * Calculate fade for foreground.
  * Commented out the code skipping the get_foreground_frame().
  * Fixed the process of releasing of the AVIO.
  * Make use of the /usr/bin/background-list in download-panel-movies.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 15 Feb 2021 10:00:33 -0800

panel-ve (1.1.57.0) xenial; urgency=high

  * Added the final-jetson-setup to turn on the fan.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 11 Feb 2021 22:26:06 -0800

panel-ve (1.1.56.0) xenial; urgency=high

  * Changed the alpha to 1.0 (i.e. opaque).
  * Deleted commented out position related lines of code (not needed).
  * Commented lines printing the position. That works now.
  * Added a comment about the possibility to avoid rendering the background
    when the foreground covers the entire screen is opaque.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 07 Feb 2021 23:27:29 -0800

panel-ve (1.1.55.0) xenial; urgency=high

  * Attempt 2 for fixing the flipped panels. This works, correct 180 degrees!

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 07 Feb 2021 22:35:16 -0800

panel-ve (1.1.54.0) xenial; urgency=high

  * First attempt at fixing the flipped panels.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 07 Feb 2021 20:59:35 -0800

panel-ve (1.1.53.0) xenial; urgency=high

  * Fixed the message at end of panel-ve installation.
  * Fixed positioning, we really need to take the scale in account.
  * Fixed the translation with x 2 (one screen goes from -1 to +1).

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 07 Feb 2021 14:08:57 -0800

panel-ve (1.1.52.0) xenial; urgency=high

  * Also clear the f_received parameter on a new foreground request.
  * Attempt to move things around "as expected" (without much success so far).
  * Better handling of some parameters between threads.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 07 Feb 2021 10:06:07 -0800

panel-ve (1.1.51.0) xenial; urgency=high

  * Don't install the cache on a panel (not enough room!)

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 02 Feb 2021 21:41:54 -0800

panel-ve (1.1.50.0) xenial; urgency=high

  * Open UDP port 123 so the NTP can communicate between computers.
  * Added the "background_mute" preference to the synchronizer.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 28 Jan 2021 22:13:22 -0800

panel-ve (1.1.49.0) xenial; urgency=high

  * Actually install our NTP configuration files.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 28 Jan 2021 21:18:20 -0800

panel-ve (1.1.48.0) xenial; urgency=high

  * Added a test so the background gets cleared before the new one is shown.
    (i.e. it doesn't flash a few old frames).
  * Avoid moving forward with the background if the frame # is already ahead.
  * Properly release frame when not used (it could leak in one case!)
  * Added a DOWNLOAD_MOVIES to the ve-updater.
  * Added AUTUMN to the movies to download.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 25 Jan 2021 17:40:47 -0800

panel-ve (1.1.47.0) xenial; urgency=high

  * Restore code to "fix" the background for the demo.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 23 Jan 2021 23:04:19 -0800

panel-ve (1.1.46.0) xenial; urgency=high

  * Be less stringent on XOpenDisplay() failures, and wait up to 1 minute
    before, trying again once a second, before throwing.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 23 Jan 2021 18:38:07 -0800

panel-ve (1.1.45.0) xenial; urgency=high

  * One more fix to the movie installation script.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 23 Jan 2021 15:00:00 -0800

panel-ve (1.1.44.0) xenial; urgency=high

  * Updated the LOS_ANGELES_DAY video with the newest one.
  * Officially added the AQUARIUM as a background video.
  * Added a script I can use to remove the audio from the video files.
  * Completely revamped the git to not include the movies. It's a lot faster
    (again). Instead we use an external server & wget and also a cache.
    The wget will happen in the panel-ve-data.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 22 Jan 2021 20:42:25 -0800

panel-ve (1.1.43.0) xenial; urgency=high

  * Increment the loop in the TICK handler, not by the background loop.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 19 Jan 2021 13:34:29 -0800

panel-ve (1.1.42.0) xenial; urgency=high

  * More tweaks to select correct frame for background loop.
  * Apply the count when computing the next frame to be displayed.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 19 Jan 2021 10:55:07 -0800

panel-ve (1.1.41.0) xenial; urgency=high

  * Updated three movies.
  * Applied a fix to the background loop which may fix the thing!

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 19 Jan 2021 09:07:12 -0800

panel-ve (1.1.40.0) xenial; urgency=high

  * Applied a fix to the ffmpeg demuxer to avoid a double allocation.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 18 Jan 2021 14:59:40 -0800

panel-ve (1.1.39.0) xenial; urgency=high

  * First version with the new foreground implementation with bps, not frames.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 17 Jan 2021 15:16:18 -0800

panel-ve (1.1.38.0) xenial; urgency=high

  * Started work to find out why we're missing the re-sent packets.
  * Fixed the implementation of the acknowledge flags so it doesn't throw.
  * Fixed the complete() function so it doesn't throw when we did not yet
    receive the NEW_FRAME message.
  * Fixed the locations rectangles, the width/height has to be added to the
    x/y positions.
  * Moved two logs to NOTICE/UNIMPORTANT instead of INFO.
  * Added a try/catch for the event_communicator so we can log the error.
  * Fixed a reference to foreground1 instead of foreground2.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 25 Dec 2020 16:51:09 -0800

panel-ve (1.1.37.0) xenial; urgency=high

  * Added a REBOOT option so we can reboot all the machines at once.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 25 Dec 2020 16:51:09 -0800

panel-ve (1.1.36.0) xenial; urgency=high

  * Added a mkdir for the movies & images folders which may not yet exist.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 25 Dec 2020 15:14:38 -0800

panel-ve (1.1.35.0) xenial; urgency=high

  * Fixed the linking, the images source was wrong.
  * Only attempt the link if the destination doesn't exist.
  * Install the ve-logo-R3.png image under /usr/shared/ve/images.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 25 Dec 2020 14:50:30 -0800

panel-ve (1.1.34.0) xenial; urgency=high

  * Properly test whether the upgrade is still going using the upgrader PID.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 25 Dec 2020 13:28:12 -0800

panel-ve (1.1.33.0) xenial; urgency=high

  * Added loops to handle softlinks of movies and images.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 25 Dec 2020 07:52:29 -0800

panel-ve (1.1.32.0) xenial; urgency=high

  * Fixed the opening of the movie file, the filename was not used properly.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 24 Dec 2020 21:43:50 -0800

panel-ve (1.1.31.0) xenial; urgency=high

  * The version of the libve script was correct, it's back.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 24 Dec 2020 20:03:19 -0800

panel-ve (1.1.30.0) xenial; urgency=high

  * Fixed the version of the libve that the script transfers.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 24 Dec 2020 17:22:57 -0800

panel-ve (1.1.29.0) xenial; urgency=high

  * Install the movies using the panel-ve-data and ve-data packages.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 24 Dec 2020 17:22:57 -0800

panel-ve (1.1.28.0) xenial; urgency=high

  * Load input background file by adding the .mp4 extension.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 24 Dec 2020 16:35:53 -0800

panel-ve (1.1.27.0) xenial; urgency=high

  * Moved the flip (rotation 180 deg) to the OpenGL vertex shader.
  * Added a flag to show/hide timings.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 23 Dec 2020 13:36:22 -0800

panel-ve (1.1.26.0) xenial; urgency=high

  * Avoid skipping frames in background.cpp, the front end takes care of that.
    (i.e. I think that key frames are very important here, but I still don't
    understand why it's completely off...)
  * Added a way to restart the panel-ve service remotely.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 22 Dec 2020 20:14:39 -0800

panel-ve (1.1.25.0) xenial; urgency=high

  * Added code so I can write text with the X-Window GC.
  * Switch to using XCreateWindow() so we get the override_redirect = 1.
  * Implemented a way to draw text on the screen using a characters.png
    image and a texture we blaster on top of the display.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 11 Dec 2020 18:38:17 -0800

panel-ve (1.1.24.0) xenial; urgency=high

  * Applied a fix to the upgrader so it actually runs the commands.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 11 Dec 2020 10:30:11 -0800

panel-ve (1.1.23.0) xenial; urgency=high

  * Updated the logrotate so ve group members can write to log files.
    (otherwise developers will be bothers much here)
  * Added code to display an error message when a movie can't be loaded.
  * Also log a message when the background changes successfully.
  * Fixed the gap test, at this time we will only skip frames if we're
    behind, not when we're ahead (i.e. the display thread blocks us when
    we're ahead).
  * Fixed the gathering of the TICK parameters:
    - the fade status is just named "fade"
    - when an invalid parameter is gathered we now print a error message.
    - added a lock in the push/pop since we're not using the cppthread FIFO.
  * Got the synchronization to work properly (albeit with a small delay).
  * Fixed the updater, the popen() returned value is a pointer...

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 11 Dec 2020 09:09:36 -0800

panel-ve (1.1.22.0) xenial; urgency=high

  * That "wait tick" didn't work at all, so I used the reboot of the switch
    (which is really weird, but it worked to synchronize mostly!)

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 29 Nov 2020 19:40:01 -0800

panel-ve (1.1.21.0) xenial; urgency=high

  * Added a "wait tick" to sync on startup.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 29 Nov 2020 13:55:08 -0800

panel-ve (1.1.20.0) xenial; urgency=high

  * Handle the flip flag properly (i.e. don't just flip, test that we have to)

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 29 Nov 2020 11:28:30 -0800

panel-ve (1.1.19.0) xenial; urgency=high

  * Removed the background variables from the XML.
  * Fixed the egl_sync destructor so it calls the wait() function.
  * Changed the wait function so we can print the error of the
    eglClientWaitSyncKHR() on an error.
  * Added the synchronizer_addr/secure parameters to the list of options
    (and define them in the .conf because the address is mandatory).
  * Call the NvDestroyEGLImage() only if the image was allocated.
  * Fixed the preferences-addr/secure flag usage.
  * Implemented & call the synchronizer next_frame().
  * Added log messages so we know the synchronizer connection status.
  * Added an open() to the event_handler so we can start it at the right time.
  * Made the foreground failed connection sleep only 5 sec. (not 1 min.)
  * Added some code for the fade (GL_BLEND) and tested, it works.
  * Changed the sleep hack to use a clock_nanosleep() with an absolute time.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 29 Nov 2020 10:41:11 -0800

panel-ve (1.1.18.0) xenial; urgency=high

  * Added the synchronizer client code.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 27 Nov 2020 13:15:36 -0800

panel-ve (1.1.17.0) xenial; urgency=high

  * Added the flag to flip the videos of the top monitors.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 24 Nov 2020 21:03:51 -0800

panel-ve (1.1.16.0) xenial; urgency=high

  * Added info about the Tegra release on this machine to the logs.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 24 Nov 2020 07:14:04 -0800

panel-ve (1.1.15.0) xenial; urgency=high

  * Test one more upgrade, automated.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 23 Nov 2020 21:48:34 -0800

panel-ve (1.1.14.0) xenial; urgency=high

  * Split the upgrader _script_ in a separate process so it survives a stop.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 23 Nov 2020 20:36:59 -0800

panel-ve (1.1.13.0) xenial; urgency=high

  * Added a call to stop() the thread.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 23 Nov 2020 19:40:35 -0800

panel-ve (1.1.12.0) xenial; urgency=high

  * Set the HOME variable for the panel-updater (pwd is not good enough).

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 23 Nov 2020 18:12:39 -0800

panel-ve (1.1.11.0) xenial; urgency=high

  * Renamed the snaplogger "updater.conf" as "panel-updater.conf" so it works.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 23 Nov 2020 17:21:22 -0800

panel-ve (1.1.10.0) xenial; urgency=high

  * Renamed the panel-updater binary "panel-updater".

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 23 Nov 2020 15:44:58 -0800

panel-ve (1.1.9.0) xenial; urgency=high

  * Added the panel-updater to the control file.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 23 Nov 2020 13:35:15 -0800

panel-ve (1.1.8.0) xenial; urgency=high

  * apt-get doesn't like "random" extensions in the source.list.d folder.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 18 Nov 2020 17:44:30 -0800

panel-ve (1.1.7.0) xenial; urgency=high

  * Added a command to update the NVidia PPA to version 32.4.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 18 Nov 2020 15:25:48 -0800

panel-ve (1.1.6.0) xenial; urgency=high

  * The service sets the LD_LIBRARY_PATH so the tegra version of v4l2 is used.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 17 Nov 2020 21:02:11 -0800

panel-ve (1.1.5.0) xenial; urgency=high

  * The daemon-reload does not accept a unit name.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Nov 2020 20:07:03 -0800

panel-ve (1.1.4.0) xenial; urgency=high

  * Added support for daemon-reload in our script because that happens each
    time we install a newer version.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Nov 2020 18:12:46 -0800

panel-ve (1.1.3.0) xenial; urgency=high

  * Added a script to allow managing the panel-ve service from your account.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Nov 2020 17:49:53 -0800

panel-ve (1.1.2.0) xenial; urgency=high

  * Removed a debug preventing proper startup.
  * Removed debug messages that are now less useful.
  * Removed the panel_id=1 from the .conf, the default has to be panel_id=0.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Nov 2020 13:06:30 -0800

panel-ve (1.1.1.0) xenial; urgency=high

  * Upgraded to the newer version of advgetopt which allows for the ve.d
    sub-directory in /etc/ve.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Nov 2020 09:06:44 -0800

panel-ve (1.1.0.0) xenial; urgency=high

  * Upgraded to the newest version of the Snap! contribs.
  * Completely removed the requirements on the libsnapwebsites.
  * Removed the CMake variables we won't be using.
  * Updated the build script to create a BUILD/{Debug,Release} set.
  * Moved the build directly under BUILD/Debug|Release (removed the top folder)
  * Adjusted the dependencies to the new projects we use.
  * Fixed many #include to work with the new projects.
  * Updated the logger to use the new snaplogger instead of snapwebsites/log.
  * Updated the copyright notices to include 2020.
  * Cleaned up the copyright notices and added where missing.
  * Added initializations and deleted copy operators as effc++ indicated to do.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 03 May 2020 20:39:50 -0800

panel-ve (1.0.8.0) xenial; urgency=high

  * Added OpenSSL as a library dependency.
  * Added libve to the shutdownve tool.
  * Added more logs to the shutdownve and the missing setuid(0) call.
  * Added a UDP test to verify that we can sustain video rates.
  * Added a light ray coordinate tool to calculate positions.
  * Added a list of free libraries that we are using.

 -- Alexis Wilke <alexis@m2osw.com>  Fri,  8 Jun 2018 02:36:06 -0800

panel-ve (1.0.7.0) xenial; urgency=high

  * Test whether the BUILD or RELEASE directories exist before trying to
    build ve because without them it will fail.
  * Added ducumentation about field types in the XML fields.
  * Started adding some debian installation files as I'm really starting to add
    many files around and that will be easier to fix than create from scratch.
  * Added login screen to the admin-ui XML definitions.
  * Added a few lines of code to initialize the admin_ui class.
  * Added a backup-service.conf file.
  * Implemented the basics of the backup-service so I could test the preferences
    feedback (i.e. changing a preference field from another app. and see a
    response in the backup service)
  * Added logrotate files as required.
  * Added a common script for pre/post-inst/rm scripts.
  * Broke up the prefs.cpp/h file into: a ve_preferences (no UI) and
    display_preferences (handles the UI).
  * Fixed the default IP in the preferences.conf file.
  * Fixed the call from set_label() to set_description() for the description.
  * Changed the messages and do not send a serial number from the outside,
    only the preferences-service sends one out.
  * Made the preferences_new_pref public otherwise the dynamic_cast fails.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 19 Feb 2018 01:32:35 -0800

panel-ve (1.0.6.0) xenial; urgency=high

  * Added support for the PREF_TREE.
  * Updated the `mk` script to for a full rebuild when the folder is missing.
  * Fixed the time for 15 min. backup (it was wrong.)
  * Updated the spreadsheet with the list of messages.
  * Fixed the preference name with an underscore instead of a dash.
  * Removed the preferences <type> tags. We use an attribute now.
  * Use as2js for the JSON for the tree declaration.
  * Added a function to filter preferences by path.
  * Fixed the names so we use UTF-8.
  * Added the display settings, but it's still empty.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 16 Feb 2018 04:13:32 -0800

panel-ve (1.0.5.0) xenial; urgency=high

  * Fixed the fact that f_value_was_set was not set to true on set_value().
  * Fixed the erase() call, the f_listeners.end() was missing (2nd parameter).
  * Broke up the loop in two so it is clean (i.e. no side effect in the
    erase/remove_if idiom)
  * Fixed the save(), a test was inverted.
  * Fixed the f_preferences, it has to be added to the snap communicator so
    I made it a dynamically allocated object.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 25 Jan 2018 17:32:26 -0800

panel-ve (1.0.4.0) xenial; urgency=high

  * Fixed the preferences (types, scope, open/close tags).
  * Fixed the retrieval of the scope as an attribute instead of a bool.
  * Properly uses the scope to generate the full name of each preference.
  * Check the existance of parameters before calling get_parameter() because
    otherwise it is a way to kill the preference server.

 -- Alexis Wilke <alexis@m2osw.com>  Sat,  6 Jan 2018 17:47:13 -0800

panel-ve (1.0.3.0) xenial; urgency=high

  * Fixed the preferences (types, scope, open/close tags).
  * Added a crash handler to get a trace on a crash.
  * Fixed the loop over preference files, we needed a full path with QFileInfo.
  * Fixed load() which had to set the f_loaded flag to true.
  * Started moving items in a "ve" namespace.
  * Added an entry to our list of messages to return UNKNOWN if not found.
  * Removed the process_message() which we don't use.
  * Made parameter names lowercase.

 -- Alexis Wilke <alexis@m2osw.com>  Sat,  6 Jan 2018 17:47:13 -0800

panel-ve (1.0.2.0) xenial; urgency=high

  * Fixed msg_quit() which needed a copy of the vector of connections.
  * Properly named the preferences.conf file (was missing a letter).

 -- Alexis Wilke <alexis@m2osw.com>  Sat,  6 Jan 2018 17:47:13 -0800

panel-ve (1.0.1.0) xenial; urgency=high

  * Actually implemented the sending of the new_pref() message to the listeners.
  * Moved the list of listeners directly in the preference_value.
  * Made the list of listener use weak pointers as it ought to be.
  * Moved the new_pref() interface to the preference_value area.
  * Made process_timeout() public so on QUIT we can call it.
  * Added the dispatcher initialization.
  * Implemented all the preferences messages.
  * Updated the message documentation.

 -- Alexis Wilke <alexis@m2osw.com>  Sat,  6 Jan 2018 17:47:13 -0800

panel-ve (1.0.0.0) xenial; urgency=high

  * First version.

 -- Alexis Wilke <alexis@m2osw.com>  Sat,  6 Jan 2018 17:47:13 -0800

